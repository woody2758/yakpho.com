# ============================================================
# YakPho Aroma v2 ‚Äì Clean URLs + Multilang + Pretty Routes
# ============================================================

Options +FollowSymLinks
RewriteEngine On

# ‡∏´‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÄ‡∏ä‡πà‡∏ô /yakpho.com/
RewriteBase /yakpho.com/

# üõ° ‡∏´‡πâ‡∏≤‡∏° Frontend ‡∏à‡∏±‡∏ö route ‡∏Ç‡∏≠‡∏á /admin/*
RewriteCond %{REQUEST_URI} ^/yakpho.com/admin/ [NC]
RewriteRule ^ - [L]

# ------------------------------------------------------------
# 1) Clean URL: rewrite .html ‚Üí .php (‡πÄ‡∏ä‡πà‡∏ô /order.html ‚Üí order.php)
# ------------------------------------------------------------
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)\.html$ $1.php [L]

# ‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å /order.html ‚Üí /order.php ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
RewriteRule ^order\.html$ order.php [L]

# ------------------------------------------------------------
# 2) Clean URL ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà .php ‡πÄ‡∏ä‡πà‡∏ô /order ‚Üí order.php
# ------------------------------------------------------------
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# ------------------------------------------------------------
# 3) Multilang Routing ‡πÄ‡∏ä‡πà‡∏ô:
#    /th/products
#    /en/product/5161
# ------------------------------------------------------------
RewriteRule ^(th|en)/(.*)$ index.php?lang=$1&route=$2 [QSA,L]

# ------------------------------------------------------------
# 4) Pretty URL ‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏ä‡πà‡∏ô:
#    /products
#    /product/5161
# ------------------------------------------------------------
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?route=$1 [QSA,L]

# ------------------------------------------------------------
# 5) ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏∞‡∏ö‡∏ö
# ------------------------------------------------------------


# ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô *.html ‚Üí *.php
RewriteRule ^(.*)\.html$ $1.php [L]



<FilesMatch "\.(htaccess|env|log|bak|ini)$">
  Require all denied
</FilesMatch>
