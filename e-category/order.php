<?php
include __DIR__ . "/includes/config.php"; 
include __DIR__ . "/includes/header.php"; 
?>
<div class="topbar">
      <div class="inner">
    <div class="brand"><a href="../">
      <div class="brand-line1">YAKPHO</div>
      <div class="brand-line2">Aroma</div>
    </a>
    </div>


    <div class="search-wrap">
      <input type="text" id="pageSearch" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." class="input-weblitepro search-input">
      <button id="nextResult" class="btn-weblitepro search-btn" title="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤">
        <i data-lucide="search"></i>
      </button>
    </div>
  </div>
</div>

<main>


<section id="home" class="section with-bg  tophome">
<div class="wrap">
<div class="card">
  <div class="body">
          <h3 class="h3">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
<a href="index.php" class="back-btn" aria-label="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
  <i data-lucide="arrow-left"></i> ‡∏Å‡∏•‡∏±‡∏ö
</a>
  <div class="sub">
    ‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏•‡∏∞‡∏™‡∏π‡∏ï‡∏£‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏™‡∏π‡∏ï‡∏£ ‡∏Ñ‡∏•‡∏∞‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 16 ‡∏Å‡∏•‡∏¥‡πà‡∏ô 
    <ol>
      <li>‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏π‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏π‡∏ï‡∏£ ‡πÄ‡∏ä‡πà‡∏ô‡∏™‡∏π‡∏ï‡∏£ ‡∏£‡πâ‡∏≠‡∏ô ‡πÄ‡∏¢‡πá‡∏ô ‡∏ô‡∏ß‡∏î‡∏ï‡∏±‡∏ß</li>
      <li>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏ß‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å</li>
      <li>‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á</li>
      <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</li>
      <li>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏ó ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞</li>
      
    </ol>
<div class="center">
  <a href="#pricing" class="btn secondary"> <i data-lucide="tags"></i>  ‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡πà‡∏á</a>
  <a href="#delivery" class="btn secondary"> <i data-lucide="package"></i>  ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</a>

</div>
  
  </div>
</div>
</div>
</div>
</section>
<section id="order" class="section with-bg">
<div class="wrap">
  <?php

$COMPANY_NAME = "Yakpho Aroma Intertrade Co., Ltd.";
$VERSION      = "v3.2";
$UPDATED_AT   = date("Y-m-d");
$LOCAL_SHIP_TH = 60;

$PRICE_RATE = [
  ["min"=>1,   "price"=>690],
  ["min"=>6,   "price"=>590],
  ["min"=>10,  "price"=>560],
  ["min"=>20,  "price"=>530],
  ["min"=>30,  "price"=>500],
  ["min"=>50,  "price"=>490],
  ["min"=>100, "price"=>470],
];

$SCENTS = [
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏ï‡πâ‡∏ô‡∏ï‡∏≥‡∏£‡∏±‡∏ö",   "en"=>"Original",             "code"=>"001"],
  ["th"=>"‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏û‡∏•",        "en"=>"Zingiber cassumunar", "code"=>"002"],
  ["th"=>"‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏™‡∏•‡∏î‡∏û‡∏±‡∏á‡∏û‡∏≠‡∏ô",  "en"=>"Barleria Oil",        "code"=>"003"],
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏î‡∏≠‡∏Å‡πÇ‡∏°‡∏Å",        "en"=>"Water jasmine",       "code"=>"004"],
  ["th"=>"‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏ï‡∏∞‡πÑ‡∏Ñ‡∏£‡πâ‡∏´‡∏≠‡∏°",  "en"=>"Lemongrass",          "code"=>"005"],
  ["th"=>"‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏•‡∏≤‡πÄ‡∏ß‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå",   "en"=>"Lavender",            "code"=>"006"],
  ["th"=>"‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏´‡∏ç‡πâ‡∏≤‡πÄ‡∏≠‡πá‡∏ô‡∏¢‡∏∑‡∏î", "en"=>"Plantain",            "code"=>"007"],
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏¢‡∏π‡∏Ñ‡∏≤‡∏•‡∏¥‡∏õ‡∏ï‡∏±‡∏™",    "en"=>"Eucalyptus",          "code"=>"008"],
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏°‡∏∞‡∏•‡∏¥",          "en"=>"Jasmine",             "code"=>"009"],
  ["th"=>"‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö",       "en"=>"Rose",                "code"=>"010"],
  ["th"=>"‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏≠‡πà‡∏≠‡∏ô. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏Ç‡∏¥‡∏á‡∏°‡∏¥‡∏ô‡∏ó‡πå", "en"=>"Ginger Mint",       "code"=>"011"],
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏•‡∏µ‡∏•‡∏≤‡∏ß‡∏î‡∏µ",       "en"=>"Frangipani",          "code"=>"012"],
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß", "en"=>"Coconut Oil",         "code"=>"013"],
  ["th"=>"‡∏™‡∏µ‡∏ü‡πâ‡∏≤. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÇ‡∏£‡∏™‡πÅ‡∏°‡∏£‡∏µ‡πà",       "en"=>"Rosemary",            "code"=>"014"],
  ["th"=>"‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏ô‡πâ‡∏≥‡∏≠‡∏ö‡πÑ‡∏ó‡∏¢",  "en"=>"Thai Perfume",        "code"=>"015"],
  ["th"=>"‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß. ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏î‡∏≠‡∏Å‡∏õ‡∏µ‡∏ö",        "en"=>"Cork Tree Blossom",   "code"=>"016"],
];

if ($_SERVER["REQUEST_METHOD"] === "POST" && isset($_POST["order_text"], $_POST["ref"])) {
  $ref = preg_replace("/[^0-9]/", "", $_POST["ref"]);
  if ($ref === "") { $ref = (string)time(); }
  $dir = __DIR__ . "/orders";
  if (!is_dir($dir)) { mkdir($dir, 0777, true); }
  $name = $dir . "/" . $ref . "_order.txt";
  $order_text = str_replace("\\n", "\n", $_POST["order_text"]);
  $ok = file_put_contents($name, $order_text);
  header("Content-Type: application/json");
  echo json_encode([ "saved" => $ok !== false, "file" => basename($name), "ref" => $ref ]);
  exit;
}

$PRICE_RATE_JSON = json_encode($PRICE_RATE, JSON_UNESCAPED_UNICODE);
$SCENTS_JSON     = json_encode($SCENTS, JSON_UNESCAPED_UNICODE);
?>
<h2 class="center"><i data-lucide="shopping-cart"></i> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ</h2>
  <table id="orderTable" aria-describedby="tableHelp">
    <thead>
      <tr class="head">
        <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö / ‡∏Å‡∏•‡∏¥‡πà‡∏ô (TH/EN)</th>
        <th class="hide-sm">‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô<br><small>Hot (H)</small></th>
        <th class="hide-sm">‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô<br><small>Cool (C)</small></th>
        <th class="hide-sm">‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏ß‡∏î‡∏ï‡∏±‡∏ß<br><small>Balanced (B)</small></th>
      </tr>
    </thead>
    <tbody>
      <?php foreach($SCENTS as $i=>$s): ?>
        <tr>
          <th scope="row" class="scent-th">
            <?= str_pad($i+1,2,"0",STR_PAD_LEFT) ?>. <?= htmlspecialchars($s["th"]) ?>
            <span class="scent-sub"><?= htmlspecialchars($s["en"]) ?></span>
          </th>
          <?php
            $code = $s["code"];
            foreach (["H","C","B"] as $f) {
              $sku = $f . $code;
              $label = ($f === "H" ? "‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô" : ($f === "C" ? "‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô" : "‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏ß‡∏î‡∏ï‡∏±‡∏ß"));
              echo '<td data-label="'.$label.'">';
              echo '<div class="cell" data-formula="'.htmlspecialchars($f).'" data-sku="'.htmlspecialchars($sku).'">';
              echo '<button class="btn minus" aria-label="‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">‚àí</button>';
              echo '<span class="qty" aria-live="polite">0</span>';
              echo '<button class="btn plus" aria-label="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">+</button>';
              echo '<span class="sku">SKU: '.htmlspecialchars($sku).'</span>';
              echo '</div>';
              echo '</td>';
            }
          ?>
        </tr>
      <?php endforeach; ?>
    </tbody>
  </table>
  <p id="tableHelp" class="opt" aria-hidden="true" style="color:#6b7280;margin-top:8px;">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° +/‚àí ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (kg) ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô &gt; 0 ‡∏à‡∏∞‡∏°‡∏µ‡∏™‡∏µ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå</p>
          </div>
</section>

<!-- ============================================================
üí∞ YakPho Aroma ‚Äì ‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡πà‡∏á (v2.4)
============================================================ -->
<section id="pricing" class="section has-bg-white">
  <div class="wrap center">
    <h2 class="h2">‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡πà‡∏á YakPho Aroma</h2>
    <p class="p">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏•‡∏∞‡∏ó‡∏∏‡∏Å‡∏Å‡∏•‡∏¥‡πà‡∏ô</p>

    <table class="price-table">
      <thead>
        <tr>
          <th>‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì (‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°)</th>
          <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏Å‡∏Å.</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>1 ‡∏Å‡∏Å.</td><td>690 ‡∏ö‡∏≤‡∏ó</td></tr>
        <tr><td>6 ‡∏Å‡∏Å.</td><td>590 ‡∏ö‡∏≤‡∏ó</td></tr>
        <tr><td>10 ‡∏Å‡∏Å.</td><td>560 ‡∏ö‡∏≤‡∏ó</td></tr>
        <tr><td>20 ‡∏Å‡∏Å.</td><td>530 ‡∏ö‡∏≤‡∏ó</td></tr>
        <tr><td>30 ‡∏Å‡∏Å.</td><td>500 ‡∏ö‡∏≤‡∏ó</td></tr>
        <tr><td>50 ‡∏Å‡∏Å.</td><td>490 ‡∏ö‡∏≤‡∏ó</td></tr>
        <tr><td>100 ‡∏Å‡∏Å.</td><td>470 ‡∏ö‡∏≤‡∏ó</td></tr>
      </tbody>
    </table>

    <div class="p muted" style="margin-top:16px;">
      <div>üì¶ ‡∏ö‡∏£‡∏£‡∏à‡∏∏‡∏ñ‡∏∏‡∏á‡∏ã‡∏µ‡∏•‡∏Ç‡∏ô‡∏≤‡∏î 1 ‡∏Å‡∏Å. ‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏ô‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•</div> 
      <div>üåø ‡∏ú‡∏•‡∏¥‡∏ï‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏´‡∏≠‡∏°</div>
      <div>üé® ‡∏Ñ‡∏•‡∏∞‡∏™‡∏π‡∏ï‡∏£ ‡∏Ñ‡∏•‡∏∞‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÅ‡∏ö‡∏ö </div>
    </div>
  </div>
</section>


<!-- ============================================================
üåø Section: 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ ‚Äì YakPho Aroma
============================================================ -->
<section id="beseller" class="best-seller">
  <div class="container">
    <h2 class="section-title">
      <i data-lucide="flame"></i> 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ
    </h2>

    <div class="best-grid">
      <div class="item rank-1"><div class="badge">#1</div><h3>‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏ï‡πâ‡∏ô‡∏ï‡∏≥‡∏£‡∏±‡∏ö <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-2"><div class="badge">#2</div><h3>‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏û‡∏• <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-3"><div class="badge">#3</div><h3>‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÄ‡∏™‡∏•‡∏î‡∏û‡∏±‡∏á‡∏û‡∏≠‡∏ô <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-4"><div class="badge">#4</div><h3>‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô ‡∏ï‡∏∞‡πÑ‡∏Ñ‡∏£‡πâ‡∏´‡∏≠‡∏° <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-5"><div class="badge">#5</div><h3>‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÄ‡∏™‡∏•‡∏î‡∏û‡∏±‡∏á‡∏û‡∏≠‡∏ô <span>‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô</span></h3></div>
      <div class="item rank-6"><div class="badge">#6</div><h3>‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏ï‡πâ‡∏ô‡∏ï‡∏≥‡∏£‡∏±‡∏ö <span>‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô</span></h3></div>
      <div class="item rank-7"><div class="badge">#7</div><h3>‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏´‡∏ç‡πâ‡∏≤‡πÄ‡∏≠‡πá‡∏ô‡∏¢‡∏∑‡∏î <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-8"><div class="badge">#8</div><h3>‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô ‡∏•‡∏≤‡πÄ‡∏ß‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-9"><div class="badge">#9</div><h3>‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏¢‡∏π‡∏Ñ‡∏≤‡∏•‡∏¥‡∏õ‡∏ï‡∏±‡∏™ <span>‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô</span></h3></div>
      <div class="item rank-10"><div class="badge">#10</div><h3>‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô ‡∏ï‡∏∞‡πÑ‡∏Ñ‡∏£‡πâ‡∏´‡∏≠‡∏° <span>‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô</span></h3></div>
    </div>

    <p class="note">ü™∂ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á YakPho Aroma</p>
  </div>
</section>





<section id="delivery" class="section ">
  <div class="wrap">
  <div class="card">
  <div class="body">
    <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á / Shipping Policy:</h3>

        <ul >
          <li><span class="fi fi-th"></span> <strong>‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ (Domestic ‚Äì Thailand):</strong> ‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß 60 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå<br>
              <em>Shipping cost of 60 THB per order is already included in the total.</em></li>
          <li>üè¢ <strong>‡∏°‡∏≤‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø (Self Pickup):</strong> ‡πÑ‡∏°‡πà‡∏Ñ‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á<br>
              <em>No shipping fee for self-pickup at our warehouse.</em></li>
          <li>üåè <strong>‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® (International Delivery):</strong> ‡∏Ñ‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ç‡∏ô‡∏™‡πà‡∏á ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ö‡∏ß‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°<br>
              <em>Charged at the actual shipping rate from the courier, with no extra markup.</em><br>
              <small><em>(For international orders, the 60 THB domestic shipping fee will be automatically deducted.)</em></small></li>
        </ul>

    </div>
    </div>
    </div>
  </section>

<section id="contact" class="section endofsection has-bg-white">
  <div class="wrap">

       <h3>‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡∏ó‡∏≤‡∏á‡πÅ‡∏ä‡∏ó‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</h3>    
    <div class="contact-buttons" >
      <!-- LINE -->
      <a href="https://lin.ee/kGIUwnf2" target="_blank" rel="noopener" class="contact-btn line">
        <i data-lucide="message-square"></i>
        <span>LINE Official</span>
      </a>

      <!-- Messenger -->
      <a href="https://www.facebook.com/YakPho.Aroma" target="_blank" rel="noopener" class="contact-btn messenger">
        <i data-lucide="facebook"></i>
        <span>Messenger</span>
      </a>

      <!-- WhatsApp -->
      <a href="https://wa.me/660800617073" target="_blank" rel="noopener" class="contact-btn whatsapp">
        <i data-lucide="phone"></i>
        <span>WhatsApp</span>
      </a>

      <!-- Email -->
      <a href="mailto:thaiherbfc@gmail.com" class="contact-btn email">
        <i data-lucide="mail"></i>
        <span>Email Us</span>
      </a>
    </div>

    </div>
  </section>
</main>

<footer class="sticky-footer-order" role="contentinfo">
  <div class="sticky-inner-order">
    <div class="summary" id="summaryText">‡∏£‡∏ß‡∏°: 0 kg  |  ‡∏Å‡∏Å‡∏•‡∏∞.: 0 ‡∏ø   |  ‡∏£‡∏ß‡∏°: 0 ‡∏ø </div>
    <div class="actions">
      <button class="btn order-btn" id="copyBtn"><i data-lucide="shopping-bag" style="vertical-align: middle; position: relative; top: -1px; margin-right: 6px;"></i> ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
    </div>
  </div>
</footer>
<!-- ============================================================
üíé YakPho Aroma ‚Äì Order Script v3.3 Premium Motion UX
‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö: Update Summary + Two-Way Fly + Highlight + Sound + Toast + Copy Order
============================================================ -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
const PRICE_RATE = <?= $PRICE_RATE_JSON ?>;
const SCENTS     = <?= $SCENTS_JSON ?>;

// üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
function getRate(totalKg){
  let unit = 0;
  for(const r of PRICE_RATE){ if(totalKg >= r.min) unit = r.price; }
  return unit;
}

// üîÅ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÅ‡∏¢‡∏Å‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏Å‡∏Å. ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° + ‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏™‡πà‡∏á)
function updateSummary(){
  const qtyEls = document.querySelectorAll(".qty");
  let total = 0;
  qtyEls.forEach(q => total += parseInt(q.textContent,10));
  const unit = total ? getRate(total) : 0;
  const grand = unit * total;
  const shipping = 60;
  const totalWithShip = total > 0 ? grand + shipping : 0;

  document.getElementById("summaryText").innerHTML =
    `‡∏£‡∏ß‡∏°: <span class="highlight-total">${total}</span> kg | 
     ‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏Å‡∏Å.: <span class="highlight-unit">${unit}</span> ‡∏ø | 
     ‡∏£‡∏ß‡∏°: <span class="highlight-grand">${totalWithShip.toLocaleString()}</span> ‡∏ø
     <br><small style="color:#0F5F91;">(‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® ${shipping} ‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡πâ‡∏ß)</small>`;
  // ‡∏ó‡πâ‡∏≤‡∏¢‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô updateSummary() ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
if (window.yakcartRefresh) window.yakcartRefresh();
}


// üöÄ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏õ‡πá‡∏ô 0 ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö disabled
document.querySelectorAll('.cell').forEach(cell => {
  const qtyEl = cell.querySelector('.qty');
  const minusBtn = cell.querySelector('.btn.minus');
  const val = parseInt(qtyEl.textContent, 10) || 0;

  if (val <= 0) {
    minusBtn.disabled = true;
    minusBtn.classList.add('btn-disabled');
  } else {
    minusBtn.disabled = false;
    minusBtn.classList.remove('btn-disabled');
  }
});



// üì¶ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° + / ‚Äì (‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á + Toast + Animation + Minus Disabled)
document.querySelector("tbody").addEventListener("click",(e)=>{
  const btn = e.target.closest(".btn");
  if(!btn) return;

  const cell  = btn.closest(".cell");
  const qtyEl = cell.querySelector(".qty");
  const minusBtn = cell.querySelector(".btn.minus");
  let val = parseInt(qtyEl.textContent,10);

  if(btn.classList.contains("plus")) val++;
  if(btn.classList.contains("minus")) val = Math.max(0, val - 1);

  qtyEl.textContent = val;
  cell.classList.toggle("active", val > 0);

  // ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö
  if (val <= 0) {
    minusBtn.disabled = true;
    minusBtn.classList.add('btn-disabled');
  } else {
    minusBtn.disabled = false;
    minusBtn.classList.remove('btn-disabled');
  }

  updateSummary();

  // üåø ‡πÄ‡∏™‡∏µ‡∏¢‡∏á Soft UX
  const sound = {
    up:   new Audio("<?= URL_PATH ?>assets/sounds/success.mp3"),
    down: new Audio("<?= URL_PATH ?>assets/sounds/error.mp3")
  };

  // üçÉ Toast ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
  const Toast = Swal.mixin({
    toast: true,
    position: 'top-end',
    showConfirmButton: false,
    timer: 1000,
    timerProgressBar: true
  });

  const formula = cell.dataset.formula;
  const sku     = cell.dataset.sku;
  const label =
    formula === "H" ? "‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô" :
    formula === "C" ? "‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô" :
    "‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏ß‡∏î‡∏ï‡∏±‡∏ß";

  const summary = document.querySelector('.sticky-footer-order');
  const rectStart = btn.getBoundingClientRect();
  const rectEnd   = summary.getBoundingClientRect();

  // ü™∂ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ö‡∏¥‡∏ô
  const fly = document.createElement('div');
  fly.className = 'fly-item';
  fly.style.background = window.getComputedStyle(btn).backgroundColor;
  fly.style.left = rectStart.left + 'px';
  fly.style.top  = rectStart.top  + 'px';
  document.body.appendChild(fly);

  // üî∫ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á
  const translateX = rectEnd.left + rectEnd.width/2 - rectStart.left;
  const translateY = rectEnd.top - rectStart.top;

  // ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡πÇ‡∏Ñ‡πâ‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏Å
  if(btn.classList.contains("plus")){
    fly.animate([
      { transform:'translate(0,0) scale(1)', opacity:1 },
       { transform:`translate(${translateX/4}px, ${translateY*0.25 - 150}px) scale(1.15)`, opacity:0.9, offset:0.45 },
      { transform:`translate(${translateX}px, ${translateY}px) scale(0.3)`, opacity:0.2 }
    ], { duration:800, easing:'cubic-bezier(.42,0,.58,1)' });

    setTimeout(()=>{
      summary.style.animation='shake 0.4s ease';
      setTimeout(()=>{ summary.style.animation=''; },400);
      const summaryText=document.getElementById("summaryText");
      summaryText.classList.add('active');
      setTimeout(()=>summaryText.classList.remove('active'),500);
    },800);

    setTimeout(()=>fly.remove(),850);
    sound.up.play();
    Toast.fire({ icon:"success", title:`+1 ${label} (${sku})` });

  // ‚ûñ ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡∏ö‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å summary
  } else {
    const rectSrc = rectEnd;
    fly.style.left = rectSrc.left + rectSrc.width/2 + 'px';
    fly.style.top  = rectSrc.top + 'px';
    fly.animate([
      { transform:'translate(0,0) scale(0.5)', opacity:0.8 },
      { transform:'translate(-80px,-120px) scale(0.8)', opacity:0.6, offset:0.4 },
      { transform:'translate(120px,-180px) scale(1.2)', opacity:0 }
    ], { duration:700, easing:'cubic-bezier(.55,-0.4,.72,1.4)' });
    setTimeout(()=>fly.remove(),750);
    sound.down.play();
    Toast.fire({ icon:"info", title:`‚àí1 ${label} (${sku})` });
  }
});


// ü™∂ ‡πÅ‡∏Å‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ (‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏µ...‚Äù ‡∏≠‡∏≠‡∏Å)
function thaiNameCore(th){ return th.replace(/^‡∏™‡∏µ[^.]*\.\s*/,'').trim(); }

// üßæ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
function buildSummaryText(ref){
  const lines = [];
  const now = new Date();
  const dateStr = now.toLocaleString('th-TH', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  });

  lines.push("YAKPHO AROMA ‚Äì ORDER SUMMARY");
  lines.push("‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠: " + dateStr);
  lines.push("#Ref"+ref);
  lines.push("-------------------------------");

  let total = 0;

  document.querySelectorAll(".cell").forEach(cell=>{
    const qty = parseInt(cell.querySelector(".qty").textContent,10);
    if(qty>0){
      const sku  = cell.dataset.sku;
      const code = sku.slice(1);
      const s = SCENTS.find(x=>x.code===code);
      const thCore = s ? thaiNameCore(s.th) : "";
      lines.push(`${sku} ${s?s.en:""} (${thCore}) √ó ${qty} kg`.trim());
      total += qty;
    }
  });

  const unit  = total ? getRate(total) : 0;
  const grand = unit * total;

 lines.push("-------------------------------");
  lines.push(`‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${total} kg`);
  lines.push(`‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏Å‡∏Å.: ${unit} THB`);

  const shipping = <?= $LOCAL_SHIP_TH ?>; // ‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏à‡∏≤‡∏Å PHP
  const grandTotal = grand + (total > 0 ? shipping : 0); // ‡∏ö‡∏ß‡∏Å‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

  lines.push(`‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: ${grand.toLocaleString()} THB`);
  lines.push(`‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á: ${shipping.toLocaleString()} THB`);
  lines.push(`‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${grandTotal.toLocaleString()} THB`);
  lines.push("-------------------------------");
  lines.push("**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡πâ‡∏ß (Self Pickup ‡∏ü‡∏£‡∏µ)");

  return lines.join("\n");
}

// üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å + ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)
async function doCopyAndSave(){
  // ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  const totalQty = Array.from(document.querySelectorAll(".qty"))
    .reduce((sum, el) => sum + parseInt(el.textContent, 10), 0);

  if (totalQty === 0) {
    Swal.fire({
      icon: "warning",
      title: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞",
      confirmButtonText: "‡∏ï‡∏Å‡∏•‡∏á",
      confirmButtonColor: "#6d28d9",
      background: "#fff",
      color: "#333"
    }).then(() => {
      // üöÄ ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
    return; // ‚ùå ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠
  }

  // ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
  const ref = Math.floor(Date.now()/1000).toString();
  const text = buildSummaryText(ref);

  // copy to clipboard
  try {
    await navigator.clipboard.writeText(text);
  } catch(err){
    const ta = document.createElement("textarea");
    ta.value = text;
    document.body.appendChild(ta);
    ta.select(); document.execCommand("copy");
    document.body.removeChild(ta);
  }

  // save file via POST
  try {
    const res = await fetch("", {
      method:"POST",
      headers:{ "Content-Type":"application/x-www-form-urlencoded;charset=UTF-8" },
      body: new URLSearchParams({ order_text:text, ref })
    });
    await res.json();
  } catch(e){}

  Swal.fire({
    title: "ü™∂ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß",
    html: `
      <p style="margin:6px 0 12px;font-size:14px;color:#333;">
        ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ <b>‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏ä‡∏ï</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞
      </p>
      <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:6px;margin-top:4px;">
        <a href="https://lin.ee/kGIUwnf2" target="_blank" onclick="Swal.close()" data-no-loader="true" 
          style="display:inline-flex;align-items:center;gap:5px;padding:6px 10px;font-size:13px;background:#00b900;color:#fff;border-radius:6px;text-decoration:none;font-weight:600;">
          <i data-lucide='message-square' style="width:14px;height:14px;"></i> LINE
        </a>
        <a href="https://www.facebook.com/YakPho.Aroma" target="_blank" onclick="Swal.close()" data-no-loader="true" 
          style="display:inline-flex;align-items:center;gap:5px;padding:6px 10px;font-size:13px;background:#1877f2;color:#fff;border-radius:6px;text-decoration:none;font-weight:600;">
          <i data-lucide='facebook' style="width:14px;height:14px;"></i> Messenger
        </a>
        <a href="https://wa.me/660800617073" target="_blank" onclick="Swal.close()" data-no-loader="true" 
          style="display:inline-flex;align-items:center;gap:5px;padding:6px 10px;font-size:13px;background:#25D366;color:#fff;border-radius:6px;text-decoration:none;font-weight:600;">
          <i data-lucide='phone' style="width:14px;height:14px;"></i> WhatsApp
        </a>
        <a href="mailto:thaiherbfc@gmail.com" onclick="Swal.close()" data-no-loader="true" 
          style="display:inline-flex;align-items:center;gap:5px;padding:6px 10px;font-size:13px;background:#a50b00;color:#fff;border-radius:6px;text-decoration:none;font-weight:600;">
          <i data-lucide='mail' style="width:14px;height:14px;"></i> Email
        </a>
      </div>
      <small style="display:block;margin-top:8px;color:#777;font-size:12px;">
        ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ YakPho Aroma
      </small>
    `,
    confirmButtonText: "‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á",
    confirmButtonColor: "#6d28d9",
    background: "#ffffff",
    color: "#2b2440",
    width: "340px",  /* ‚úÖ ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á popup */
    didOpen: () => {
      if (window.lucide) lucide.createIcons();
    }
  }); 

  


}


document.getElementById("copyBtn").addEventListener("click", doCopyAndSave);
updateSummary();
</script>

<script>
/* ================= YakPho Floating Mini Cart ‚Äì Safe Patch v1 ================= */
(function(){
  const ready = (fn)=> (document.readyState === 'loading')
    ? document.addEventListener('DOMContentLoaded', fn, { once:true })
    : fn();

  ready(function(){
    // --- ‡∏î‡∏∂‡∏á element ‡πÅ‡∏ö‡∏ö‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ---
    const $  = (s,c=document)=>c.querySelector(s);
    const $$ = (s,c=document)=>Array.from(c.querySelectorAll(s));

    const panel   = $('#yakcartPanel');
    const fab     = $('#yakcartToggle');
    const badge   = $('#yakcartBadge');
    const list    = $('#yakcartList');
    const kgEl    = $('#yakcartKg');
    const sumEl   = $('#yakcartSum');
    const closeBt = panel ? $('.yakcart-close', panel) : null;
    const goBtn   = $('#yakcartCheckout');

    // ‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏î element ‡πÉ‡∏î ‡πÜ ‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞ log ‡∏ö‡∏≠‡∏Å (‡∏Å‡∏±‡∏ô‡∏û‡∏±‡∏á)
    const missing = [];
    [['#yakcartPanel',panel],['#yakcartToggle',fab],['#yakcartBadge',badge],
     ['#yakcartList',list],['#yakcartKg',kgEl],['#yakcartSum',sumEl]]
     .forEach(([name,el])=>{ if(!el) missing.push(name); });

    if (missing.length){
      console.warn('YakCart: missing elements ->', missing.join(', '));
      return; // ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ error
    }

    const formulaTH = f => f==='H' ? '‡∏™‡∏π‡∏ï‡∏£‡∏£‡πâ‡∏≠‡∏ô' : (f==='C' ? '‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏¢‡πá‡∏ô' : '‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏ß‡∏î‡∏ï‡∏±‡∏ß');

    function yakcartGather(){
      const rows = [];
      let totalKg = 0;
      $$('.cell').forEach(cell=>{
        const qtyEl = $('.qty', cell);
        if(!qtyEl) return;
        const qty = parseInt(qtyEl.textContent || '0', 10);
        if(qty>0){
          const sku = cell.getAttribute('data-sku') || '';
          const f   = cell.getAttribute('data-formula') || sku.charAt(0);
          const tr  = cell.closest('tr');
          const name = tr ? (tr.querySelector('th')?.innerText.trim() || sku) : sku;
          rows.push({ sku, formula:f, name, qty });
          totalKg += qty;
        }
      });
      return { rows, totalKg };
    }

    function yakcartCompute(totalKg){
      try{
        const unit = totalKg ? getRate(totalKg) : 0; // ‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
        const sum  = unit * totalKg;
        return { unit, sum };
      }catch(e){
        console.warn('YakCart: getRate() not found, fallback 0');
        return { unit:0, sum:0 };
      }
    }

    function yakcartRender(){
      const { rows, totalKg } = yakcartGather();
      const { sum } = yakcartCompute(totalKg);

      // ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
      if (badge)  badge.textContent = String(rows.length);
      if (kgEl)   kgEl.textContent  = String(totalKg);
      if (sumEl)  sumEl.textContent = (sum||0).toLocaleString();

      if (list){
        if(rows.length===0){
          list.innerHTML = '<li class="yakcart-empty">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</li>';
        }else{
          list.innerHTML = rows.map(r=>{
            const scent = r.name.replace(/\s+/g,' ').trim();
            return `<li><span>${scent} <small style="color:#6b7280">(${formulaTH(r.formula)})</small></span><span><strong>${r.qty}</strong> kg</span></li>`;
          }).join('');
        }
      }

      if (goBtn){
        goBtn.disabled = totalKg===0;
        goBtn.style.opacity = totalKg===0? .6 : 1;
      }
    }

    function yakcartToggle(open){
      const willOpen = (typeof open==='boolean') ? open : !panel.classList.contains('active');
      panel.classList.toggle('active', willOpen);
      panel.setAttribute('aria-hidden', willOpen ? 'false':'true');
      try{ if(window.lucide) lucide.createIcons(); }catch{}
    }

    // fab.addEventListener('click', ()=>yakcartToggle(true));
    fab.addEventListener('click', ()=>yakcartToggle());
    if (closeBt) closeBt.addEventListener('click', ()=>yakcartToggle(false));

    if (goBtn){
      goBtn.addEventListener('click', ()=>{
        if (typeof doCopyAndSave === 'function') doCopyAndSave();
      });
    }

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î +/‚àí (‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ handler ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô)
    document.addEventListener('click', (e)=>{
      if(e.target.closest('.btn.plus') || e.target.closest('.btn.minus')){
        setTimeout(yakcartRender, 0);
      }
    });

    // hook ‡πÄ‡∏™‡∏£‡∏¥‡∏°: ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å updateSummary() ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢
    window.yakcartRefresh = yakcartRender;

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    yakcartRender();
  });
})();
</script>


<!-- üí´ Motion + Highlight Style -->
<style>
.fly-item {
  position: fixed;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.9;
  will-change: transform, opacity;
  box-shadow: 0 0 6px rgba(0,0,0,0.2);
}

/* Shake summary */
@keyframes shake {
  0%,100%{transform:translateX(0);}
  25%{transform:translateX(-3px);}
  50%{transform:translateX(3px);}
  75%{transform:translateX(-2px);}
}

/* Summary color highlight */
#summaryText .highlight-total {
  color:#b86ef3; font-weight:700;
}
#summaryText .highlight-unit {
  color:#28a4b0; font-weight:700;
}
#summaryText .highlight-grand {
  color:#ff6600; font-weight:800;
  transition:color .3s,transform .3s;
}
#summaryText.active .highlight-grand {
  color:#ff884d; transform:scale(1.15);
}


</style>
<!-- üçÉ Floating Menu Button -->
<button id="menuToggle" class="floating-menu-btn" aria-label="Toggle menu">
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
</button>

<!-- üåø Slide-out Menu -->
<nav id="sideMenu" class="side-menu">
  <a href="<?php echo URL_PATH;?>"><i data-lucide="home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
  <a href="#home"><i data-lucide="list-checks"></i> ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
  <a href="#delivery"><i data-lucide="truck"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</a>
  <a href="#order"><i data-lucide="flame"></i> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏¥‡πà‡∏ô</a>
  <a href="#beseller"><i data-lucide="leaf"></i> 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</a>
  <a href="#pricing"><i data-lucide="images"></i> ‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤</a>
  <a href="#contact"><i data-lucide="message-circle"></i> ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
  
</nav>
<!-- ==================== YakPho Floating Mini Cart ==================== -->
<button id="yakcartToggle" class="yakcart-fab" type="button" aria-label="‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤" data-no-loader="true">
  <i data-lucide="shopping-cart"></i>
  <span id="yakcartBadge">0</span>
</button>

<div id="yakcartPanel" class="yakcart-panel" aria-hidden="true">
  <div class="yakcart-head">
    <div class="title"><i data-lucide="shopping-cart"></i> ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
    <button class="yakcart-close" type="button" aria-label="‡∏õ‡∏¥‡∏î">&times;</button>
  </div>

  <div class="yakcart-body">
    <ul id="yakcartList" class="yakcart-list"><li class="yakcart-empty">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</li></ul>
  </div>

  <div class="yakcart-foot">
    <div class="yakcart-total">
      ‡∏£‡∏ß‡∏°: <strong><span id="yakcartKg">0</span> kg</strong>
      <span class="sep">|</span>
      ‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô: <strong><span id="yakcartSum">0</span> THB</strong>
    </div>
    <button id="yakcartCheckout" type="button" class="yakcart-checkout" data-no-loader="true">
      <i data-lucide="credit-card"></i> ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
    </button>
  </div>
</div>
<!-- ================== /YakPho Floating Mini Cart =================== -->

<!-- lucide icons -->
<script src="https://unpkg.com/lucide@latest"></script>
<script>if(window.lucide){lucide.createIcons();}</script>
<script src="<?= URL_PATH ?>assets/js/app.js?<?php echo $ver;?>"></script>

</body>
</html>


